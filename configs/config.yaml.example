environment: development
log_level: info

server:
  port: 8080
  host: 0.0.0.0
  read_timeout: 30
  write_timeout: 30
  rate_limit_per_min: 100
  supported_versions: ["v1"]
  default_version: "v1"
  allowed_origins:
    - "http://localhost:3000"
    - "http://localhost:8080"

database:
  url: ""
  host: localhost
  port: 5432
  name: stack_service
  user: postgres
  password: postgres
  ssl_mode: disable
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 300
  query_timeout: 30
  max_retries: 3
  read_replicas: []

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  cluster_mode: false
  cluster_addrs: []
  max_retries: 3
  pool_size: 10

jwt:
  secret: "${JWT_SECRET}"
  access_token_ttl: 604800
  refresh_token_ttl: 2592000
  issuer: "stack_service"

security:
  encryption_key: "${ENCRYPTION_KEY}"
  max_login_attempts: 5
  lockout_duration: 900
  require_mfa: false
  password_min_length: 8
  session_timeout: 3600

workers:
  count: 10
  job_timeout: 300

circle:
  api_key: "${CIRCLE_API_KEY}"
  environment: "sandbox"
  base_url: ""
  entity_secret_ciphertext: "${CIRCLE_ENTITY_SECRET_CIPHERTEXT}"
  default_wallet_set_id: "${CIRCLE_DEFAULT_WALLET_SET_ID}"
  default_wallet_set_name: "STACK-WalletSet"
  supported_chains: ["SOL-DEVNET"]

kyc:
  provider: ""
  api_key: "${KYC_API_KEY}"
  api_secret: "${KYC_API_SECRET}"
  base_url: "https://netverify.com"
  callback_url: ""
  environment: "development"
  user_agent: "Stack-Service/1.0"
  level_name: "basic-kyc"

email:
  provider: ""
  api_key: "${EMAIL_API_KEY}"
  from_email: "no-reply@stackservice.com"
  from_name: "Stack Service"
  base_url: "http://localhost:3000"
  environment: "development"
  reply_to: ""

sms:
  provider: ""
  api_key: "${SMS_API_KEY}"
  api_secret: "${SMS_API_SECRET}"
  from_number: ""
  environment: "development"

verification:
  code_length: 6
  code_ttl_minutes: 10
  max_attempts: 3
  rate_limit_per_hour: 3

alpaca:
  client_id: "${ALPACA_API_KEY}"
  secret_key: "${ALPACA_API_SECRET}"
  base_url: "https://broker-api.sandbox.alpaca.markets"
  data_base_url: "https://data.sandbox.alpaca.markets"
  environment: "sandbox"
  timeout: 30

due:
  api_key: "${DUE_API_KEY}"
  account_id: "${DUE_ACCOUNT_ID}"
  base_url: "https://api.due.network/v1"

  transaction_limits:
  deposit:
    daily: 10000.00
    weekly: 50000.00
    monthly: 200000.00
  withdrawal:
    daily: 5000.00
    weekly: 25000.00
    monthly: 100000.00
  trade:
    daily: 50000.00
    weekly: 250000.00
    monthly: 1000000.00
  transfer:
    daily: 10000.00
    weekly: 50000.00
    monthly: 200000.00
  risk_threshold: 0.9
