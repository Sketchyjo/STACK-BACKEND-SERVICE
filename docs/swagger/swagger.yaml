basePath: /api/v1
definitions:
  github_com_stack-service_stack_service_internal_domain_entities.Address:
    properties:
      city:
        type: string
      country:
        type: string
      postalCode:
        type: string
      state:
        type: string
      street:
        type: string
    required:
    - city
    - country
    - postalCode
    - street
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.AdminWalletsListResponse:
    properties:
      count:
        type: integer
      items:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ManagedWallet'
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetClass:
    enum:
    - us_equity
    - crypto
    type: string
    x-enum-varnames:
    - AlpacaAssetClassUSEquity
    - AlpacaAssetClassCrypto
  github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetResponse:
    properties:
      class:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetClass'
      easy_to_borrow:
        type: boolean
      exchange:
        type: string
      fractionable:
        type: boolean
      id:
        type: string
      marginable:
        type: boolean
      min_order_size:
        type: number
      min_trade_increment:
        type: number
      name:
        type: string
      price_increment:
        type: number
      shortable:
        type: boolean
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetStatus'
      symbol:
        type: string
      tradable:
        type: boolean
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetStatus:
    enum:
    - active
    - inactive
    type: string
    x-enum-varnames:
    - AlpacaAssetStatusActive
    - AlpacaAssetStatusInactive
  github_com_stack-service_stack_service_internal_domain_entities.AuthResponse:
    properties:
      accessToken:
        type: string
      expiresAt:
        type: string
      refreshToken:
        type: string
      user:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.UserInfo'
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.BalancesResponse:
    properties:
      buyingPower:
        type: string
      currency:
        type: string
      pendingDeposits:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.Basket:
    properties:
      composition:
        description: Stored as JSON in DB
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.BasketComponent'
        type: array
      created_at:
        type: string
      description:
        type: string
      id:
        type: string
      name:
        type: string
      risk_level:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.RiskLevel'
      updated_at:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.BasketComponent:
    properties:
      symbol:
        description: e.g., "VTI"
        type: string
      weight:
        description: 0.0 to 1.0
        type: number
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.BrokerageFill:
    properties:
      price:
        type: string
      quantity:
        type: string
      symbol:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.BrokerageFillWebhook:
    properties:
      fills:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.BrokerageFill'
        type: array
      orderId:
        type: string
      signature:
        type: string
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OrderStatus'
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.Chain:
    enum:
    - Aptos
    - Solana
    - polygon
    - starknet
    type: string
    x-enum-varnames:
    - ChainAptos
    - ChainSolana
    - ChainPolygon
    - ChainStarknet
  github_com_stack-service_stack_service_internal_domain_entities.ChainDepositWebhook:
    properties:
      address:
        type: string
      amount:
        type: string
      blockTime:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Chain'
      signature:
        type: string
      token:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Stablecoin'
      txHash:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.CreateVirtualAccountRequest:
    properties:
      alpaca_account_id:
        type: string
      user_id:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.CreateVirtualAccountResponse:
    properties:
      message:
        type: string
      virtual_account:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.VirtualAccount'
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.CreateWalletSetRequest:
    properties:
      circle_wallet_set_id:
        type: string
      name:
        type: string
    required:
    - name
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.DepositAddressRequest:
    properties:
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Chain'
    required:
    - chain
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.DepositAddressResponse:
    properties:
      address:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Chain'
      qrCode:
        description: Optional QR image URL
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse:
    properties:
      code:
        type: string
      details:
        additionalProperties: true
        type: object
      message:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.FundingConfirmation:
    properties:
      amount:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Chain'
      confirmedAt:
        type: string
      id:
        type: string
      status:
        type: string
      token:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Stablecoin'
      txHash:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.HealthStatus:
    properties:
      errors:
        description: Any error messages
        items:
          type: string
        type: array
      last_checked:
        description: Last health check time
        type: string
      latency:
        allOf:
        - $ref: '#/definitions/time.Duration'
        description: Response latency
      metrics:
        additionalProperties: true
        description: Service-specific metrics
        type: object
      status:
        description: healthy, degraded, unhealthy
        type: string
      uptime:
        allOf:
        - $ref: '#/definitions/time.Duration'
        description: Service uptime
      version:
        description: Service version
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.KYCDocument:
    properties:
      contentType:
        type: string
      fileUrl:
        type: string
      type:
        description: passport, drivers_license, etc.
        type: string
    required:
    - contentType
    - fileUrl
    - type
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.KYCPersonalInfo:
    properties:
      address:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Address'
      country:
        type: string
      dateOfBirth:
        type: string
      firstName:
        type: string
      lastName:
        type: string
    required:
    - country
    - firstName
    - lastName
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.KYCStatusResponse:
    properties:
      approvedAt:
        type: string
      hasSubmitted:
        type: boolean
      lastSubmittedAt:
        type: string
      nextSteps:
        items:
          type: string
        type: array
      providerReference:
        type: string
      rejectionReason:
        type: string
      requiredFor:
        items:
          type: string
        type: array
      requiresKyc:
        type: boolean
      status:
        type: string
      userId:
        type: string
      verified:
        type: boolean
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.KYCSubmitRequest:
    properties:
      documentType:
        type: string
      documents:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.KYCDocument'
        minItems: 1
        type: array
      metadata:
        additionalProperties: true
        type: object
      personalInfo:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.KYCPersonalInfo'
    required:
    - documentType
    - documents
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.LoginRequest:
    properties:
      email:
        type: string
      password:
        type: string
    required:
    - email
    - password
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.ManagedWallet:
    properties:
      account_type:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletAccountType'
      address:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletChain'
      circle_wallet_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletStatus'
      updated_at:
        type: string
      user_id:
        type: string
      wallet_set:
        allOf:
        - $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSet'
        description: Related entities (not stored in DB)
      wallet_set_id:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OnboardingStartRequest:
    properties:
      email:
        type: string
      phone:
        type: string
    required:
    - email
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OnboardingStartResponse:
    properties:
      nextStep:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStepType'
      onboardingStatus:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatus'
      sessionToken:
        type: string
      userId:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatus:
    enum:
    - started
    - kyc_pending
    - kyc_approved
    - kyc_rejected
    - wallets_pending
    - completed
    type: string
    x-enum-varnames:
    - OnboardingStatusStarted
    - OnboardingStatusKYCPending
    - OnboardingStatusKYCApproved
    - OnboardingStatusKYCRejected
    - OnboardingStatusWalletsPending
    - OnboardingStatusCompleted
  github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatusResponse:
    properties:
      canProceed:
        type: boolean
      completedSteps:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStepType'
        type: array
      currentStep:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStepType'
      kycStatus:
        type: string
      onboardingStatus:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatus'
      requiredActions:
        items:
          type: string
        type: array
      userId:
        type: string
      walletStatus:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletStatusSummary'
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OnboardingStepType:
    enum:
    - registration
    - email_verification
    - phone_verification
    - passcode_creation
    - kyc_submission
    - kyc_review
    - wallet_creation
    - completed
    type: string
    x-enum-varnames:
    - StepRegistration
    - StepEmailVerification
    - StepPhoneVerification
    - StepPasscodeCreation
    - StepKYCSubmission
    - StepKYCReview
    - StepWalletCreation
    - StepOnboardingComplete
  github_com_stack-service_stack_service_internal_domain_entities.Order:
    properties:
      amount:
        type: number
      basket_id:
        type: string
      brokerage_ref:
        type: string
      created_at:
        type: string
      id:
        type: string
      side:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OrderSide'
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OrderStatus'
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OrderCreateRequest:
    properties:
      amount:
        type: string
      basketId:
        type: string
      idempotencyKey:
        type: string
      side:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OrderSide'
    required:
    - amount
    - basketId
    - side
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.OrderSide:
    enum:
    - buy
    - sell
    type: string
    x-enum-varnames:
    - OrderSideBuy
    - OrderSideSell
  github_com_stack-service_stack_service_internal_domain_entities.OrderStatus:
    enum:
    - accepted
    - pending
    - partially_filled
    - filled
    - failed
    - canceled
    type: string
    x-enum-varnames:
    - OrderStatusAccepted
    - OrderStatusPending
    - OrderStatusPartiallyFilled
    - OrderStatusFilled
    - OrderStatusFailed
    - OrderStatusCanceled
  github_com_stack-service_stack_service_internal_domain_entities.Portfolio:
    properties:
      currency:
        type: string
      positions:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.PositionResponse'
        type: array
      totalValue:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.PositionResponse:
    properties:
      avgPrice:
        type: string
      basketId:
        type: string
      marketValue:
        type: string
      quantity:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.ResendCodeRequest:
    properties:
      email:
        type: string
      phone:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.RiskLevel:
    enum:
    - conservative
    - balanced
    - growth
    type: string
    x-enum-varnames:
    - RiskLevelConservative
    - RiskLevelBalanced
    - RiskLevelGrowth
  github_com_stack-service_stack_service_internal_domain_entities.SignUpRequest:
    properties:
      email:
        type: string
      password:
        minLength: 8
        type: string
      phone:
        type: string
    required:
    - password
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.SignUpResponse:
    properties:
      identifier:
        type: string
      message:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.Stablecoin:
    enum:
    - USDC
    type: string
    x-enum-varnames:
    - StablecoinUSDC
  github_com_stack-service_stack_service_internal_domain_entities.UserInfo:
    properties:
      createdAt:
        type: string
      email:
        type: string
      emailVerified:
        type: boolean
      id:
        type: string
      kycStatus:
        type: string
      onboardingStatus:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatus'
      phone:
        type: string
      phoneVerified:
        type: boolean
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.VerifyCodeRequest:
    properties:
      code:
        type: string
      email:
        type: string
      phone:
        type: string
    required:
    - code
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.VerifyCodeResponse:
    properties:
      accessToken:
        type: string
      expiresAt:
        type: string
      refreshToken:
        type: string
      user:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.UserInfo'
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.VirtualAccount:
    properties:
      account_number:
        type: string
      alpaca_account_id:
        type: string
      created_at:
        type: string
      currency:
        type: string
      due_account_id:
        type: string
      id:
        type: string
      routing_number:
        type: string
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.VirtualAccountStatus'
      updated_at:
        type: string
      user_id:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.VirtualAccountStatus:
    enum:
    - pending
    - active
    - closed
    - failed
    type: string
    x-enum-varnames:
    - VirtualAccountStatusPending
    - VirtualAccountStatusActive
    - VirtualAccountStatusClosed
    - VirtualAccountStatusFailed
  github_com_stack-service_stack_service_internal_domain_entities.WalletAccountType:
    enum:
    - EOA
    - SCA
    type: string
    x-enum-comments:
      AccountTypeEOA: Externally Owned Account
      AccountTypeSCA: Smart Contract Account
    x-enum-descriptions:
    - Externally Owned Account
    - Smart Contract Account
    x-enum-varnames:
    - AccountTypeEOA
    - AccountTypeSCA
  github_com_stack-service_stack_service_internal_domain_entities.WalletAddressResponse:
    properties:
      address:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletChain'
      status:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletAddressesResponse:
    properties:
      wallets:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletAddressResponse'
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletChain:
    enum:
    - SOL-DEVNET
    type: string
    x-enum-varnames:
    - ChainSOLDevnet
  github_com_stack-service_stack_service_internal_domain_entities.WalletChainStatus:
    properties:
      address:
        type: string
      chain:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletChain'
      createdAt:
        type: string
      error:
        type: string
      status:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletInitiationRequest:
    properties:
      chains:
        items:
          type: string
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletInitiationResponse:
    properties:
      chains:
        items:
          type: string
        type: array
      job:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningJobResponse'
      message:
        type: string
      user_id:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningJobResponse:
    properties:
      attemptCount:
        type: integer
      createdAt:
        type: string
      errorMessage:
        type: string
      id:
        type: string
      maxAttempts:
        type: integer
      nextRetryAt:
        type: string
      progress:
        type: string
      status:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningRequest:
    properties:
      chains:
        items:
          type: string
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningResponse:
    properties:
      job:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningJobResponse'
      message:
        type: string
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletSet:
    properties:
      circle_wallet_set_id:
        type: string
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      status:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSetStatus'
      updated_at:
        type: string
    required:
    - name
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletSetDetailResponse:
    properties:
      stats:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSetStats'
      wallet_set:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSet'
      wallets:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ManagedWallet'
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletSetStats:
    properties:
      creating_wallets:
        type: integer
      failed_wallets:
        type: integer
      live_wallets:
        type: integer
      total_wallets:
        type: integer
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletSetStatus:
    enum:
    - active
    - inactive
    type: string
    x-enum-varnames:
    - WalletSetStatusActive
    - WalletSetStatusInactive
  github_com_stack-service_stack_service_internal_domain_entities.WalletSetsListResponse:
    properties:
      count:
        type: integer
      items:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSet'
        type: array
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletStatus:
    enum:
    - creating
    - live
    - failed
    type: string
    x-enum-varnames:
    - WalletStatusCreating
    - WalletStatusLive
    - WalletStatusFailed
  github_com_stack-service_stack_service_internal_domain_entities.WalletStatusResponse:
    properties:
      failedWallets:
        type: integer
      pendingWallets:
        type: integer
      provisioningJob:
        $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningJobResponse'
      readyWallets:
        type: integer
      totalWallets:
        type: integer
      userId:
        type: string
      walletsByChain:
        additionalProperties:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletChainStatus'
        type: object
    type: object
  github_com_stack-service_stack_service_internal_domain_entities.WalletStatusSummary:
    properties:
      createdWallets:
        type: integer
      failedWallets:
        type: integer
      pendingWallets:
        type: integer
      supportedChains:
        items:
          type: string
        type: array
      totalWallets:
        type: integer
      walletsByChain:
        additionalProperties:
          type: string
        description: chain -> status
        type: object
    type: object
  internal_api_handlers.AcceptTOSRequest:
    properties:
      due_account_id:
        type: string
      tos_token:
        type: string
    required:
    - due_account_id
    - tos_token
    type: object
  internal_api_handlers.AnalysisInsight:
    properties:
      confidence:
        description: 0.0 to 1.0
        type: number
      description:
        description: Detailed description
        type: string
      impact:
        description: high, medium, low
        type: string
      title:
        description: Brief insight title
        type: string
      type:
        description: risk, performance, allocation, etc.
        type: string
    type: object
  internal_api_handlers.AnalysisRequest:
    properties:
      analysis_type:
        type: string
      parameters:
        additionalProperties: true
        type: object
    required:
    - analysis_type
    type: object
  internal_api_handlers.AnalysisResponse:
    properties:
      analysis_type:
        type: string
      artifact_uri:
        type: string
      content:
        description: Analysis content
        type: string
      content_type:
        description: text/markdown or application/json
        type: string
      created_at:
        type: string
      insights:
        description: Key insights
        items:
          $ref: '#/definitions/internal_api_handlers.AnalysisInsight'
        type: array
      metadata:
        additionalProperties: true
        type: object
      processing_time:
        type: string
      recommendations:
        description: Actionable recommendations
        items:
          type: string
        type: array
      request_id:
        type: string
      tokens_used:
        type: integer
    type: object
  internal_api_handlers.AssetsResponse:
    properties:
      assets:
        items:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetResponse'
        type: array
      page:
        type: integer
      page_size:
        type: integer
      total_count:
        type: integer
    type: object
  internal_api_handlers.CreateDueAccountRequest:
    properties:
      country:
        type: string
      email:
        type: string
      name:
        type: string
    required:
    - country
    - email
    - name
    type: object
  internal_api_handlers.CreateQuoteRequest:
    properties:
      amount:
        type: string
      currency:
        type: string
      recipient:
        type: string
      sender:
        type: string
    required:
    - amount
    - currency
    - recipient
    - sender
    type: object
  internal_api_handlers.CreateTransferRequest:
    properties:
      amount:
        type: string
      currency:
        type: string
      destination_id:
        type: string
      reference:
        type: string
      source_id:
        type: string
    required:
    - amount
    - currency
    - destination_id
    - reference
    - source_id
    type: object
  internal_api_handlers.CreateVirtualAccountRequest:
    properties:
      account_name:
        type: string
      account_number:
        type: string
      chain:
        type: string
      routing_number:
        type: string
    required:
    - account_name
    - account_number
    - chain
    - routing_number
    type: object
  internal_api_handlers.CreateWalletsRequest:
    properties:
      chains:
        items:
          type: string
        minItems: 1
        type: array
      user_id:
        type: string
    required:
    - chains
    - user_id
    type: object
  internal_api_handlers.CreateWebhookEndpointRequest:
    properties:
      description:
        type: string
      events:
        items:
          type: string
        minItems: 1
        type: array
      url:
        type: string
    required:
    - events
    - url
    type: object
  internal_api_handlers.ErrorResponse:
    properties:
      code:
        type: string
      details:
        type: string
      error:
        type: string
    type: object
  internal_api_handlers.GenerateRequest:
    properties:
      analysis_type:
        type: string
      parameters:
        additionalProperties: true
        type: object
      portfolio_data:
        $ref: '#/definitions/internal_api_handlers.PortfolioSnapshot'
      type:
        description: '"weekly_summary" or "analysis"'
        type: string
      user_id:
        type: string
      week_start:
        type: string
    required:
    - portfolio_data
    - type
    - user_id
    type: object
  internal_api_handlers.GenerateResponse:
    properties:
      artifact_uri:
        type: string
      content:
        type: string
      content_type:
        type: string
      created_at:
        type: string
      error:
        type: string
      model:
        type: string
      processing_time:
        type: string
      request_id:
        type: string
      success:
        type: boolean
      tokens_used:
        type: integer
    type: object
  internal_api_handlers.HealthCheck:
    properties:
      error:
        type: string
      latency:
        $ref: '#/definitions/time.Duration'
      service:
        type: string
      status:
        type: string
      timestamp:
        type: string
    type: object
  internal_api_handlers.HealthRequest:
    properties:
      service:
        description: '"storage", "inference", or "all"'
        type: string
    type: object
  internal_api_handlers.HealthResponse:
    properties:
      checks:
        additionalProperties:
          $ref: '#/definitions/internal_api_handlers.HealthCheck'
        type: object
      status:
        type: string
      timestamp:
        type: string
      uptime:
        $ref: '#/definitions/time.Duration'
      version:
        type: string
    type: object
  internal_api_handlers.LinkWalletRequest:
    properties:
      chain:
        type: string
      wallet_address:
        type: string
    required:
    - chain
    - wallet_address
    type: object
  internal_api_handlers.PortfolioSnapshot:
    properties:
      day_change:
        type: number
      day_change_pct:
        type: number
      total_return:
        type: number
      total_return_pct:
        type: number
      total_value:
        type: number
      week_change:
        type: number
      week_change_pct:
        type: number
    type: object
  internal_api_handlers.ServiceHealth:
    properties:
      errors:
        items:
          type: string
        type: array
      latency:
        type: string
      metrics:
        additionalProperties: true
        type: object
      status:
        type: string
      version:
        type: string
    type: object
  internal_api_handlers.StoreRequest:
    properties:
      data:
        description: Base64 encoded data
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      namespace:
        type: string
      user_id:
        type: string
    required:
    - data
    - namespace
    type: object
  internal_api_handlers.StoreResponse:
    properties:
      content_hash:
        type: string
      error:
        type: string
      size:
        type: integer
      stored_at:
        type: string
      success:
        type: boolean
      uri:
        type: string
    type: object
  internal_api_handlers.SummaryResponse:
    properties:
      artifact_uri:
        type: string
      content:
        description: Markdown content
        type: string
      created_at:
        type: string
      id:
        type: string
      metadata:
        additionalProperties: true
        type: object
      title:
        type: string
      user_id:
        type: string
      week_start:
        description: 'Format: 2006-01-02'
        type: string
    type: object
  internal_api_handlers.TriggerJobRequest:
    properties:
      job_id:
        type: string
    required:
    - job_id
    type: object
  internal_api_handlers.ZeroGHealthResponse:
    properties:
      checked_at:
        type: string
      overall:
        type: string
      services:
        additionalProperties:
          $ref: '#/definitions/internal_api_handlers.ServiceHealth'
        type: object
    type: object
  time.Duration:
    enum:
    - -9223372036854775808
    - 9223372036854775807
    - 1
    - 1000
    - 1000000
    - 1000000000
    - 60000000000
    - 3600000000000
    format: int64
    type: integer
    x-enum-varnames:
    - minDuration
    - maxDuration
    - Nanosecond
    - Microsecond
    - Millisecond
    - Second
    - Minute
    - Hour
host: localhost:8080
info:
  contact:
    email: support@stackservice.com
    name: API Support
    url: http://www.stackservice.com/support
  description: GenZ Web3 Multi-Chain Investment Platform API
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: Stack Service API
  version: "1.0"
paths:
  /_internal/0g/generate:
    post:
      consumes:
      - application/json
      description: Performs AI inference for weekly summaries or on-demand analysis
      parameters:
      - description: Generation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.GenerateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.GenerateResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Generate AI analysis
      tags:
      - internal
  /_internal/0g/health:
    post:
      consumes:
      - application/json
      description: Performs health checks on 0G storage and inference services
      parameters:
      - description: Health check request
        in: body
        name: request
        schema:
          $ref: '#/definitions/internal_api_handlers.HealthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.ZeroGHealthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Health check for 0G services
      tags:
      - internal
  /_internal/0g/store:
    post:
      consumes:
      - application/json
      description: Stores data in 0G storage with specified namespace and metadata
      parameters:
      - description: Storage request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.StoreRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.StoreResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Store data in 0G storage
      tags:
      - internal
  /ai/analyze:
    post:
      consumes:
      - application/json
      description: Generates AI-powered analysis of the user's portfolio for specific
        aspects
      parameters:
      - description: Analysis request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.AnalysisRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.AnalysisResponse'
        "400":
          description: Invalid request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "429":
          description: Rate limit exceeded
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Perform on-demand analysis
      tags:
      - ai-cfo
  /ai/health:
    get:
      description: Returns the current health status of AI-CFO services
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.HealthStatus'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: AI-CFO service health check
      tags:
      - ai-cfo
  /ai/summary/latest:
    get:
      description: Retrieves the most recent AI-generated weekly portfolio summary
        for the authenticated user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.SummaryResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "404":
          description: No summaries found
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal server error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get latest weekly summary
      tags:
      - ai-cfo
  /api/v1/admin/wallet-sets:
    get:
      description: Returns a list of all wallet sets with optional pagination
      parameters:
      - default: 50
        description: Number of items per page
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of items to skip
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSetsListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List wallet sets
      tags:
      - admin
    post:
      consumes:
      - application/json
      description: Creates a new Circle wallet set for managing user wallets
      parameters:
      - description: Wallet set creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.CreateWalletSetRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSet'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create wallet set
      tags:
      - admin
  /api/v1/admin/wallet-sets/{id}:
    get:
      description: Returns wallet set details by ID
      parameters:
      - description: Wallet Set ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletSetDetailResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get wallet set by ID
      tags:
      - admin
  /api/v1/admin/wallets:
    get:
      description: Returns a list of all user wallets with optional filters
      parameters:
      - default: 50
        description: Number of items per page
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of items to skip
        in: query
        name: offset
        type: integer
      - description: Filter by user ID
        in: query
        name: user_id
        type: string
      - description: Filter by blockchain chain
        in: query
        name: chain
        type: string
      - description: Filter by account type
        enum:
        - EOA
        - SCA
        in: query
        name: account_type
        type: string
      - description: Filter by wallet status
        enum:
        - creating
        - live
        - failed
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AdminWalletsListResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: List all wallets (admin)
      tags:
      - admin
  /api/v1/admin/workers/health:
    get:
      description: Returns health status of the wallet provisioning worker
      produces:
      - application/json
      responses:
        "200":
          description: Health status
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Service Unavailable
          schema:
            additionalProperties: true
            type: object
      summary: Worker health check
      tags:
      - admin
  /api/v1/admin/workers/metrics:
    get:
      description: Returns detailed metrics for the wallet provisioning worker
      produces:
      - application/json
      responses:
        "200":
          description: Worker metrics
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get worker metrics
      tags:
      - admin
  /api/v1/admin/workers/restart:
    post:
      description: Stops and restarts the wallet provisioning scheduler
      produces:
      - application/json
      responses:
        "200":
          description: Scheduler restarted
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Restart worker scheduler
      tags:
      - admin
  /api/v1/admin/workers/status:
    get:
      description: Returns the current status of the wallet provisioning worker and
        scheduler
      produces:
      - application/json
      responses:
        "200":
          description: Worker status
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Get worker status
      tags:
      - admin
  /api/v1/admin/workers/trigger:
    post:
      consumes:
      - application/json
      description: Manually triggers processing of a specific wallet provisioning
        job
      parameters:
      - description: Job ID to process
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.TriggerJobRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Job processing triggered
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      security:
      - BearerAuth: []
      summary: Trigger job processing
      tags:
      - admin
  /api/v1/assets:
    get:
      description: Retrieve a list of all tradable assets (stocks, ETFs) with optional
        filtering
      parameters:
      - default: active
        description: Asset status filter (active, inactive)
        in: query
        name: status
        type: string
      - description: Asset class filter (us_equity, crypto)
        in: query
        name: asset_class
        type: string
      - description: Exchange filter (NASDAQ, NYSE, ARCA, BATS)
        in: query
        name: exchange
        type: string
      - default: true
        description: Filter by tradability
        in: query
        name: tradable
        type: boolean
      - description: Filter by fractional shares support
        in: query
        name: fractionable
        type: boolean
      - description: Filter by short selling support
        in: query
        name: shortable
        type: boolean
      - description: Filter by easy-to-borrow status
        in: query
        name: easy_to_borrow
        type: boolean
      - description: Search by symbol or name
        in: query
        name: search
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 100
        description: Items per page (max 500)
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.AssetsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get all tradable assets
      tags:
      - assets
  /api/v1/assets/{symbol_or_id}:
    get:
      description: Retrieve detailed information about a specific asset by symbol
        or asset ID
      parameters:
      - description: Asset symbol (e.g., AAPL) or Asset ID (UUID)
        in: path
        name: symbol_or_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AlpacaAssetResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get asset details
      tags:
      - assets
  /api/v1/assets/exchange/{exchange}:
    get:
      description: Retrieve assets listed on a specific exchange
      parameters:
      - description: Exchange code (NASDAQ, NYSE, ARCA, BATS)
        in: path
        name: exchange
        required: true
        type: string
      - default: 1
        description: Page number
        in: query
        name: page
        type: integer
      - default: 50
        description: Items per page
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.AssetsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get assets by exchange
      tags:
      - assets
  /api/v1/assets/popular:
    get:
      description: Retrieve a curated list of popular stocks and ETFs for quick access
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.AssetsResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get popular assets
      tags:
      - assets
  /api/v1/assets/search:
    get:
      description: Search for assets by symbol or company name
      parameters:
      - description: Search query (symbol or name)
        in: query
        name: q
        required: true
        type: string
      - default: 20
        description: Maximum results to return
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.AssetsResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Search assets
      tags:
      - assets
  /api/v1/auth/login:
    post:
      consumes:
      - application/json
      description: Authenticate user and return JWT tokens
      parameters:
      - description: Login credentials
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.AuthResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Login user
      tags:
      - auth
  /api/v1/auth/resend-code:
    post:
      consumes:
      - application/json
      description: Request a new verification code to be sent to email or phone
      parameters:
      - description: Resend code data (email or phone)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ResendCodeRequest'
      produces:
      - application/json
      responses:
        "202":
          description: New verification code sent
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.SignUpResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "429":
          description: Too many requests
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Resend verification code
      tags:
      - auth
  /api/v1/auth/signup:
    post:
      consumes:
      - application/json
      description: Create a new user account and initiate email/phone verification
      parameters:
      - description: Signup data (email or phone, and password)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.SignUpRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Verification code sent
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.SignUpResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Register a new user and send verification code
      tags:
      - auth
  /api/v1/auth/verify-code:
    post:
      consumes:
      - application/json
      description: Verify the email or phone number using a 6-digit code
      parameters:
      - description: Verification data (email or phone, and code)
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: Account verified, returns JWT tokens
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.VerifyCodeResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Verify user account with code
      tags:
      - auth
  /api/v1/due/accept-tos:
    post:
      consumes:
      - application/json
      description: Accepts Terms of Service for a Due account
      parameters:
      - description: ToS acceptance details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.AcceptTOSRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Accept Terms of Service
      tags:
      - Due
  /api/v1/due/account:
    get:
      description: Retrieves Due account details including KYC and ToS status
      parameters:
      - description: Due Account ID
        in: query
        name: account_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get Due account
      tags:
      - Due
    post:
      consumes:
      - application/json
      description: Creates a Due account for KYC and virtual account management
      parameters:
      - description: Account details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateDueAccountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create Due account
      tags:
      - Due
  /api/v1/due/channels:
    get:
      description: Retrieves available payment channels and methods
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get payment channels
      tags:
      - Due
  /api/v1/due/initiate-kyc:
    post:
      consumes:
      - application/json
      description: Initiates KYC process programmatically and returns session details
      parameters:
      - description: Due Account ID
        in: query
        name: due_account_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Initiate KYC
      tags:
      - Due
  /api/v1/due/kyc-link:
    get:
      description: Retrieves the KYC verification link for the user's Due account
      parameters:
      - description: Due Account ID
        in: query
        name: due_account_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get KYC link
      tags:
      - Due
  /api/v1/due/kyc-status:
    get:
      consumes:
      - application/json
      description: Retrieves current KYC status for a Due account
      parameters:
      - description: Due Account ID
        in: query
        name: due_account_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get KYC status
      tags:
      - Due
  /api/v1/due/link-wallet:
    post:
      consumes:
      - application/json
      description: Links a Circle wallet address to the user's Due account
      parameters:
      - description: Wallet details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.LinkWalletRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Link wallet to Due
      tags:
      - Due
  /api/v1/due/quote:
    post:
      consumes:
      - application/json
      description: Creates a quote for a transfer with FX rate and fees
      parameters:
      - description: Quote details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateQuoteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create transfer quote
      tags:
      - Due
  /api/v1/due/recipients:
    get:
      description: Retrieves all recipients with pagination
      parameters:
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      - default: 0
        description: Offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List recipients
      tags:
      - Due
  /api/v1/due/recipients/{recipient_id}:
    get:
      description: Retrieves a recipient by ID
      parameters:
      - description: Recipient ID
        in: path
        name: recipient_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get recipient
      tags:
      - Due
  /api/v1/due/transfer:
    post:
      consumes:
      - application/json
      description: Creates a transfer from virtual account to recipient for USDC to
        USD conversion
      parameters:
      - description: Transfer details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateTransferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create transfer
      tags:
      - Due
  /api/v1/due/transfer/{transfer_id}:
    get:
      description: Retrieves transfer details by ID
      parameters:
      - description: Transfer ID
        in: path
        name: transfer_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get transfer
      tags:
      - Due
  /api/v1/due/transfers:
    get:
      description: Retrieves transfers with pagination and optional filters
      parameters:
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      - default: desc
        description: Order (asc/desc)
        in: query
        name: order
        type: string
      - description: Status filter
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List transfers
      tags:
      - Due
  /api/v1/due/virtual-account:
    post:
      consumes:
      - application/json
      description: Creates a virtual account that accepts USDC deposits and settles
        to USD bank account
      parameters:
      - description: Virtual account details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateVirtualAccountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create virtual account
      tags:
      - Due
  /api/v1/due/virtual-accounts:
    get:
      description: Retrieves all virtual accounts with optional filters
      parameters:
      - description: Currency In (e.g., USDC)
        in: query
        name: currency_in
        type: string
      - description: Rail Out (e.g., ach)
        in: query
        name: rail_out
        type: string
      - default: 50
        description: Limit
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List virtual accounts
      tags:
      - Due
  /api/v1/due/wallets:
    get:
      description: Retrieves all linked wallets
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List wallets
      tags:
      - Due
  /api/v1/due/wallets/{wallet_id}:
    get:
      description: Retrieves a wallet by ID
      parameters:
      - description: Wallet ID
        in: path
        name: wallet_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Get wallet
      tags:
      - Due
  /api/v1/due/webhooks:
    get:
      description: Retrieves all webhook endpoints
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: List webhook endpoints
      tags:
      - Due
    post:
      consumes:
      - application/json
      description: Creates a webhook endpoint for receiving Due events
      parameters:
      - description: Webhook details
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateWebhookEndpointRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Create webhook endpoint
      tags:
      - Due
  /api/v1/due/webhooks/{webhook_id}:
    delete:
      description: Deletes a webhook endpoint by ID
      parameters:
      - description: Webhook ID
        in: path
        name: webhook_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties: true
            type: object
      summary: Delete webhook endpoint
      tags:
      - Due
  /api/v1/funding/balances:
    get:
      description: Get the authenticated user's current buying power and pending deposits
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.BalancesResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get user balances
      tags:
      - funding
  /api/v1/funding/confirmations:
    get:
      description: Retrieve recent funding confirmations for the authenticated user
      parameters:
      - default: 20
        description: Number of results to return
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of results to skip
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.FundingConfirmation'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get funding confirmations
      tags:
      - funding
  /api/v1/funding/deposit-address:
    post:
      consumes:
      - application/json
      description: Generate or retrieve a deposit address for a specific blockchain
      parameters:
      - description: Deposit address request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.DepositAddressRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.DepositAddressResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Create deposit address
      tags:
      - funding
  /api/v1/funding/virtual-account:
    post:
      consumes:
      - application/json
      description: Create a virtual account for funding a brokerage account with stablecoins
      parameters:
      - description: Virtual account creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.CreateVirtualAccountRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.CreateVirtualAccountResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "409":
          description: Conflict
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Create virtual account
      tags:
      - funding
  /api/v1/investing/baskets:
    get:
      description: Retrieve all available curated investment baskets
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Basket'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get investment baskets
      tags:
      - investing
  /api/v1/investing/baskets/{basketId}:
    get:
      description: Retrieve details of a specific investment basket
      parameters:
      - description: Basket ID
        in: path
        name: basketId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Basket'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get basket details
      tags:
      - investing
  /api/v1/investing/orders:
    get:
      description: Retrieve orders for the authenticated user
      parameters:
      - default: 20
        description: Number of results to return
        in: query
        name: limit
        type: integer
      - default: 0
        description: Number of results to skip
        in: query
        name: offset
        type: integer
      - description: Filter by order status
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Order'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get user orders
      tags:
      - investing
    post:
      consumes:
      - application/json
      description: Place a buy or sell order for a basket
      parameters:
      - description: Order creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OrderCreateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Order'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Create investment order
      tags:
      - investing
  /api/v1/investing/orders/{orderId}:
    get:
      description: Retrieve details of a specific order
      parameters:
      - description: Order ID
        in: path
        name: orderId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Order'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get order details
      tags:
      - investing
  /api/v1/investing/portfolio:
    get:
      description: Retrieve the authenticated user's complete portfolio
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.Portfolio'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Get user portfolio
      tags:
      - investing
  /api/v1/kyc/status:
    get:
      description: Returns the user's current KYC verification status and guidance
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.KYCStatusResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get KYC status
      tags:
      - onboarding
  /api/v1/onboarding/kyc/callback/{provider_ref}:
    post:
      consumes:
      - application/json
      description: Handles callbacks from KYC providers with verification results
      parameters:
      - description: KYC provider reference
        in: path
        name: provider_ref
        required: true
        type: string
      - description: KYC callback data
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: Callback processed
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Process KYC callback
      tags:
      - onboarding
  /api/v1/onboarding/kyc/submit:
    post:
      consumes:
      - application/json
      description: Submits KYC documents for verification
      parameters:
      - description: KYC submission data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.KYCSubmitRequest'
      produces:
      - application/json
      responses:
        "202":
          description: KYC submission accepted
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "403":
          description: User not eligible for KYC
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Submit KYC documents
      tags:
      - onboarding
  /api/v1/onboarding/start:
    post:
      consumes:
      - application/json
      description: Initiates the onboarding process for a new user with email/phone
        verification
      parameters:
      - description: Onboarding start data
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStartRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStartResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "409":
          description: User already exists
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Start user onboarding
      tags:
      - onboarding
  /api/v1/onboarding/status:
    get:
      description: Returns the current onboarding status for the authenticated user
      parameters:
      - description: User ID (for admin use)
        in: query
        name: user_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.OnboardingStatusResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get onboarding status
      tags:
      - onboarding
  /api/v1/wallet/addresses:
    get:
      description: Returns wallet addresses for the authenticated user, optionally
        filtered by chain
      parameters:
      - description: Blockchain network
        enum:
        - ETH
        - SOL
        - APTOS
        in: query
        name: chain
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletAddressesResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get wallet addresses
      tags:
      - wallet
  /api/v1/wallet/create:
    post:
      consumes:
      - application/json
      description: Manually trigger wallet creation for a user (Admin only)
      parameters:
      - description: Wallet creation request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/internal_api_handlers.CreateWalletsRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Wallet creation initiated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Create wallets for user
      tags:
      - wallet
  /api/v1/wallet/health:
    get:
      description: Returns health status of wallet service and Circle integration
      produces:
      - application/json
      responses:
        "200":
          description: Health status
          schema:
            additionalProperties: true
            type: object
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      summary: Wallet service health check
      tags:
      - wallet
  /api/v1/wallet/retry:
    post:
      consumes:
      - application/json
      description: Retries failed wallet provisioning jobs (Admin only)
      parameters:
      - default: 10
        description: Maximum number of jobs to retry
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: Retry initiated
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "403":
          description: Insufficient permissions
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Retry failed wallet provisioning
      tags:
      - wallet
  /api/v1/wallet/status:
    get:
      description: Returns comprehensive wallet status for the authenticated user
        including provisioning progress
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletStatusResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: User not found
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get wallet status
      tags:
      - wallet
  /api/v1/wallets/{chain}/address:
    get:
      description: Returns the wallet address for the authenticated user on the specified
        chain
      parameters:
      - description: Blockchain network
        enum:
        - ETH
        - ETH-SEPOLIA
        - MATIC
        - MATIC-AMOY
        - SOL
        - SOL-DEVNET
        - APTOS
        - APTOS-TESTNET
        - AVAX
        - BASE
        - BASE-SEPOLIA
        in: path
        name: chain
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletAddressResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "404":
          description: Wallet not found for chain
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Get wallet address for specific chain
      tags:
      - wallet
  /api/v1/wallets/initiate:
    post:
      consumes:
      - application/json
      description: Creates developer-controlled wallets using pre-registered Entity
        Secret Ciphertext across specified testnet chains after passcode verification
      parameters:
      - description: Wallet initiation request with optional chains
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletInitiationRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletInitiationResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Initiate developer-controlled wallet creation after passcode verification
      tags:
      - wallet
  /api/v1/wallets/provision:
    post:
      consumes:
      - application/json
      description: Triggers wallet provisioning across supported chains for the authenticated
        user
      parameters:
      - description: Wallet provisioning request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningRequest'
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.WalletProvisioningResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ErrorResponse'
      security:
      - BearerAuth: []
      summary: Provision wallets for user
      tags:
      - wallet
  /api/v1/webhooks/brokerage-fill:
    post:
      consumes:
      - application/json
      description: Handle brokerage order fill notifications
      parameters:
      - description: Brokerage fill webhook payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.BrokerageFillWebhook'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Brokerage fill webhook
      tags:
      - webhooks
  /api/v1/webhooks/chain-deposit:
    post:
      consumes:
      - application/json
      description: Handle blockchain deposit confirmations
      parameters:
      - description: Chain deposit webhook payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/github_com_stack-service_stack_service_internal_domain_entities.ChainDepositWebhook'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/internal_api_handlers.ErrorResponse'
      summary: Chain deposit webhook
      tags:
      - webhooks
  /api/v1/webhooks/due:
    post:
      consumes:
      - application/json
      description: Processes webhook events from Due API
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties: true
            type: object
      summary: Handle Due webhook
      tags:
      - Due
  /health:
    get:
      consumes:
      - application/json
      description: Performs health checks on all critical services
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/internal_api_handlers.HealthResponse'
        "503":
          description: Service Unavailable
          schema:
            $ref: '#/definitions/internal_api_handlers.HealthResponse'
      summary: Get application health status
      tags:
      - health
  /live:
    get:
      consumes:
      - application/json
      description: Simple liveness check for container orchestration
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Get application liveness status
      tags:
      - health
  /ready:
    get:
      consumes:
      - application/json
      description: Checks if critical services are available for serving requests
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
        "503":
          description: Service Unavailable
          schema:
            additionalProperties: true
            type: object
      summary: Get application readiness status
      tags:
      - health
securityDefinitions:
  BearerAuth:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
